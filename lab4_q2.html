<!-- 
	 Name: Rahulkumar Patel (1006860118) 
     File:lab4_q2.html
     Last Modified: 13 Feb 2019 
     CRN: 6201-06
     Description:This is a Fourth Lab question-1.
 -->
<!DOCTYPE html>
<html>
	<head>
       <title>Webd-clientside_Lab4</title>
	   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	   <script src="https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>
	   <link  href="https://cdn.datatables.net/1.10.13/css/jquery.dataTables.min.css" rel="stylesheet"></script>
       <script src="./users.js" ></script>

	</head>

	<body>

		<table id="table">
			<thead>
				<tr>
					<th>id</th>
					<th>First Name</th>
					<th>Last Name</th>
					<th>Email</th>
					<th>Gender</th>
				</tr>
			</thead>
			<tbody>
				
			</tbody>
			
		</table>
        <form method="post" name="myForm" id="myForm">
				First name:
               <input type="text" name="firstName" id="firstname"/>
                <br>
               Last name:
			  <input type="text" name="lastName" id="lastname" />
			  <br>
			  email_Address:
              <input type="text" name="emailAddress" id="email_address"/ >
              <br>
              <select name="gender1">
				  <option value="male">male</option>
				  <option value="female">female</option>
				  <option value="other">other</option>
			  </select>
  
               <br>
				<input name="submit" type="submit" value="Submit" class="button" id="btnSubmit"/>
			</form>
	</body>

	<script>
			$(document).ready(function() {
              //create a table
			for(var i = 1 ; i <= users.length ; i++)
			{
				//var table = document.getElementById("table");
				$("tbody").append($("<tr>",{id : "tr"+i}))
				$("#tr"+i).append($("<td>",{text: i}))
				$("#tr"+i).append($("<td>",{text:users[i-1].first_name}))
				$("#tr"+i).append($("<td>",{text:users[i-1].last_name}))
				$("#tr"+i).append($("<td>",{text:users[i-1].email}))
				$("#tr"+i).append($("<td>",{text:users[i-1].gender}))
			}
		
             //call css
             $('#table').DataTable({
			"columnDefs": [{ "orderable": false, "targets": 1 },{ "orderable": false, "targets": 3 }]
 			 });

             var f=document.forms['myForm']; //get form


 			 // var firstn = document.getElementById('firstname').value;
 			 // var lastn  =  document.getElementById('lastname').value;
 			 //
 			 // var gendern =document.getElementById('gender1').value;
               
             $('#btnSubmit').on('click',function(){
             	insertData();
 			});

             function insertData()
			{
               if(f.firstName.value === "")
               {
                    alert("please insert firstname.");
               }
               if(f.lastName.value === "")
               {
                    alert("please insert lastname.");
               }
               if(f.emailAddress.value=== "")
               {
                    alert("please insert emailAddress.");
               }

               else
               {
               	  var em = document.getElementById('email_address').value;
               	  var firstn = document.getElementById('firstname').value; 
               	  var lastn  =  document.getElementById('lastname').value;
               	  var gendern =document.getElementById('gender1').value;
               	 addUser(em);
               	// alert(em);  
               }             
			}

			function addUser(el)
			{ 
				for(var i=0 ; i<users.length; i++)
				{
					if(users[i].email === el)
				    {
					  console.log(el);
					  var j = users.length+1;
					  
               	     // alert(firstn);
					 // users.push[first_name:users[j].firstn,last_name:users[j].lastn,email:users[j].em,gender:users[j].gendern];
					  alert('done');
				    }
			    }	
			}

		});

			
		</script>

</html>	